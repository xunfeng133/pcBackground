(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0af7ec36","chunk-f7fe9cc2"],{"0551":function(e,t,a){},"5d61":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"12px","background-color":"#ffffff"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:"700",size:"small"}},[a("el-table-column",{attrs:{prop:"username",label:"用户名",width:"180"}}),a("el-table-column",{attrs:{prop:"tel",label:"手机号码",width:"180"}}),a("el-table-column",{attrs:{width:"180",label:"终端"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.openid?a("div",[e._v("小程序")]):t.row.openid||1!=t.row.signPC?t.row.openid||0!=t.row.signPC?e._e():a("div",[e._v("APP")]):a("div",[e._v("PC")])]}}])}),a("el-table-column",{attrs:{prop:"tel",label:"用户类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.userType?a("div",[e._v("普通用户")]):e._e(),2===t.row.userType?a("div",[e._v("业务端用户")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"chatId",label:"聊天ID",width:"180"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}})],1),a("el-row",[a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[a("div",{staticClass:"pagination"},[e.paginations.total>0?a("el-pagination",{attrs:{"page-sizes":e.paginations.pageSizes,"page-size":e.paginations.pageSize,layout:e.paginations.layout,total:e.paginations.total,"current-page":e.paginations.pageIndex},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)])],1),e.addFundDialog.show?a("add-user-dialog",{attrs:{addFundDialog:e.dialog,isShow:e.addFundDialog.show,dialogRow:e.addFundDialog.dialogRow},on:{getFundList:e.fetchTableData,closeDialog:e.hideAddFundDialog}}):e._e()],1)},n=[],i=a("c24f"),r=a("c915"),s={components:{AddUserDialog:r["default"]},data:function(){return{tableData:[],page:1,pageSize:20,paginations:{total:0,pageIndex:1,pageSize:20,pageSizes:[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper"},addFundDialog:{show:!1,dialogRow:{}},dialog:{type:"",title:""}}},created:function(){this.fetchTableData()},methods:{handleSizeChange:function(e){this.paginations.pageSize=e,this.fetchTableData()},handleCurrentChange:function(e){this.paginations.pageIndex=e,this.fetchTableData()},fetchTableData:function(){var e=this,t={page:this.paginations.pageIndex,pageSize:this.paginations.pageSize};Object(i["h"])(t).then(function(t){0===t.code?(e.tableData=t.data.list,e.paginations.total=t.data.total):e.$message.error(t.msg)})},showDialog:function(){this.addFundDialog.show=!0},hideAddFundDialog:function(){this.addFundDialog.show=!1}}},l=s,d=a("2877"),u=Object(d["a"])(l,o,n,!1,null,null,null);t["default"]=u.exports},"80d1":function(e,t,a){"use strict";var o=a("0551"),n=a.n(o);n.a},c915:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.isVisible,title:e.addFundDialog.title,"close-on-click-modal":!1,"close-on-press-escape":!1,"modal-append-to-body":!1},on:{"update:visible":function(t){e.isVisible=t},close:e.closeDialog}},[a("div",{staticClass:"form"},[a("el-form",{ref:"form",staticStyle:{margin:"10px",width:"auto"},attrs:{model:e.form,rules:e.form_rules,"label-width":e.dialog.formLabelWidth}},["edit"!=this.addFundDialog.type?a("el-form-item",{attrs:{size:"medium",prop:"tel",label:"手机号:"}},[a("el-input",{attrs:{maxlength:"11"},model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",e._n(t))},expression:"form.tel"}})],1):e._e(),a("el-form-item",{attrs:{size:"medium",prop:"username",label:"用户姓名（昵称）:"}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),"edit"!=this.addFundDialog.type?a("el-form-item",{attrs:{size:"medium",prop:"password",label:"用户密码:"}},[a("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),"edit"!=this.addFundDialog.type?a("el-form-item",{attrs:{size:"medium",prop:"password",label:"确认密码:"}},[a("el-input",{attrs:{type:"password"},model:{value:e.form.rePassword,callback:function(t){e.$set(e.form,"rePassword",t)},expression:"form.rePassword"}})],1):e._e(),a("el-form-item",{attrs:{size:"medium",prop:"roleId",label:"角色:"}},[a("el-select",{staticStyle:{display:"block"},attrs:{placeholder:"请选择"},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleOptions,function(e){return a("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId}})}),1)],1),a("el-form-item",{staticClass:"text_right"},[a("el-button",{on:{click:function(t){e.isVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提  交")])],1)],1)],1)])},n=[],i=a("c24f"),r=(a("cc5e"),a("fe05")),s={name:"addFundDialogs",data:function(){return{areaData:[],isVisible:this.isShow,form:{username:"",password:"",deptId:"",email:"",tel:"",rePassword:"",userType:2,roleId:""},deptId:"",roleOptions:[{roleName:"普通业务员",roleId:0},{roleName:"收房业务员",roleId:1},{roleName:"收房管理员",roleId:2},{roleName:"工程业务员",roleId:3},{roleName:"工程管理员",roleId:4},{roleName:"超级管理员",roleId:5}],deptOptions:[],form_rules:{tel:[{required:!0,message:"手机号码不能为空！",trigger:"change"}],username:[{required:!0,message:"姓名不能为空！",trigger:"change"}],password:[{required:!0,message:"用户密码不能为空！",trigger:"change"}],roleId:[{required:!0,message:"用户角色不能为空",trigger:"change"}]},dialog:{width:"400px",formLabelWidth:"150px"}}},props:{isShow:Boolean,dialogRow:Object,addFundDialog:Object},created:function(){this.listRoles(),this.listDept()},mounted:function(){var e=this;"edit"===this.addFundDialog.type?(this.form=Object.assign({},this.dialogRow),console.log(this.form)):this.$nextTick(function(){e.$refs["form"].resetFields()})},methods:{listRoles:function(){},listDept:function(){var e=this;Object(r["c"])().then(function(t){e.deptOptions=t.data})},closeDialog:function(){this.$emit("closeDialog")},onSubmit:function(e){var t=this;if(this.form.password!==this.form.rePassword)return this.$message("两次密码输入不一致"),0;this.$refs[e].validate(function(a){if(a){var o=t[e],n=Object.assign({},o);"edit"===t.addFundDialog.type?Object(i["n"])(n).then(function(e){0===e.code?(t.$message({message:"修改成功",type:"success"}),t.$refs["form"].resetFields(),t.isVisible=!1,t.$emit("getFundList")):t.$message.error(e.msg)}):Object(i["a"])(n).then(function(e){0===e.code?(t.$message({message:"新增成功",type:"success"}),t.$refs["form"].resetFields(),t.isVisible=!1,t.$emit("getFundList")):t.$message.error(e.msg)})}})}}},l=s,d=(a("80d1"),a("2877")),u=Object(d["a"])(l,o,n,!1,null,"85634a7a",null);t["default"]=u.exports},cc5e:function(e,t,a){"use strict";a.d(t,"g",function(){return r}),a.d(t,"f",function(){return s}),a.d(t,"c",function(){return l}),a.d(t,"i",function(){return d}),a.d(t,"a",function(){return u}),a.d(t,"b",function(){return c}),a.d(t,"d",function(){return p}),a.d(t,"e",function(){return m}),a.d(t,"h",function(){return f});var o=a("a27e"),n=a("4328"),i=a.n(n);function r(e){return Object(o["a"])({url:"/admin/role/list",method:"get",params:e})}function s(e,t){return Object(o["a"])({url:"/admin/role/".concat(e,"/grant/menu"),method:"post",data:i.a.stringify({menuIds:t})})}function l(e){return Object(o["a"])({url:"/admin/role/".concat(e,"/own/menu"),method:"get"})}function d(e){return Object(o["a"])({url:"/admin/role/update",method:"post",data:i.a.stringify(e)})}function u(e){return Object(o["a"])({url:"/admin/role/add",method:"post",data:i.a.stringify(e)})}function c(e){return Object(o["a"])({url:"/admin/role/".concat(e),method:"delete"})}function p(e){return Object(o["a"])({url:"/admin/role/".concat(e,"/own/operator")})}function m(e,t){return Object(o["a"])({url:"/admin/role/".concat(e,"/grant/operator"),method:"post",data:i.a.stringify({operatorIds:t})})}function f(e){return Object(o["a"])({url:"/admin/role/swap",method:"post",data:i.a.stringify(e)})}},fe05:function(e,t,a){"use strict";a.d(t,"c",function(){return r}),a.d(t,"a",function(){return s}),a.d(t,"d",function(){return l}),a.d(t,"b",function(){return d});var o=a("a27e"),n=a("4328"),i=a.n(n);function r(e){return Object(o["a"])({url:"/admin/dept/list",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/admin/dept/add",method:"post",data:i.a.stringify(e)})}function l(e){return Object(o["a"])({url:"/admin/dept/update",method:"post",data:i.a.stringify(e)})}function d(e){return Object(o["a"])({url:"/admin/dept/".concat(e),method:"delete"})}}}]);