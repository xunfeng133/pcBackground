(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d6120f1"],{7324:function(e,t,n){"use strict";var o=n("baa9"),r=n.n(o);r.a},"883e":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{visible:e.isVisible,title:"授权菜单","close-on-click-modal":!1,"close-on-press-escape":!1,"modal-append-to-body":!1},on:{"update:visible":function(t){e.isVisible=t},close:e.closeDialog}},[n("div",{staticClass:"form"},[n("tree",{attrs:{nodes:e.menuTree,setting:e.setting},on:{onClick:e.onClick,onCheck:e.onCheck,onCreated:e.handleCreated}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.postSelected}},[e._v("确认选择")])],1)])},r=[],i=(n("8e6e"),n("456d"),n("ac6a"),n("bd86")),c=n("5880"),a=n("f419"),u=n.n(a),s=n("1f27"),d=n("cc5e");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){Object(i["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h={components:{tree:u.a},name:"grantMenuDialog",data:function(){return{isVisible:this.isShow,setting:{check:{enable:!0},data:{simpleData:{enable:!0,pIdKey:"parentId"}},view:{showIcon:!1,addHoverDom:this.addHoverDom,removeHoverDom:this.removeHoverDom},key:{url:"href"}},menuTree:[],zTreeObj:{},rootMenu:[],activeId:0}},props:{isShow:Boolean,dialogRow:Object},computed:f({},Object(c["mapGetters"])(["addFundDialog"])),created:function(){this.getRoleMenus()},methods:{closeDialog:function(){this.$emit("closeDialog")},getRoleMenus:function(){var e=this;Object(d["c"])(this.dialogRow.roleId).then(function(t){e.getMenuTree(t.data),console.log(t)})},getMenuTree:function(e){var t=this;Object(s["e"])().then(function(n){t.setChecked(n.data,e),t.menuTree=n.data})},setChecked:function(e,t){var n=this;e.forEach(function(e){t.indexOf(e.id)>-1&&(e.checked=!0),e.children&&e.children.length>0&&n.setChecked(e.children,t)})},onClick:function(e,t,n){return e.preventDefault(),!1},onCheck:function(e,t,n){},handleCreated:function(e){this.zTreeObj=e,this.zTreeObj.expandAll(!0)},postSelected:function(){var e=this,t=this.dialogRow.roleId,n=[];this.zTreeObj.getCheckedNodes().forEach(function(e){n.push(e.id)});var o=n.join(",");Object(d["f"])(t,o).then(function(t){0===t.code?e.$emit("refreshList"):alert(t.msg),e.closeDialog()})}}},p=h,b=(n("7324"),n("2877")),m=Object(b["a"])(p,o,r,!1,null,"5978493f",null);t["default"]=m.exports},baa9:function(e,t,n){},cc5e:function(e,t,n){"use strict";n.d(t,"g",function(){return c}),n.d(t,"f",function(){return a}),n.d(t,"c",function(){return u}),n.d(t,"i",function(){return s}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"h",function(){return p});var o=n("a27e"),r=n("4328"),i=n.n(r);function c(e){return Object(o["a"])({url:"/admin/role/list",method:"get",params:e})}function a(e,t){return Object(o["a"])({url:"/admin/role/".concat(e,"/grant/menu"),method:"post",data:i.a.stringify({menuIds:t})})}function u(e){return Object(o["a"])({url:"/admin/role/".concat(e,"/own/menu"),method:"get"})}function s(e){return Object(o["a"])({url:"/admin/role/update",method:"post",data:i.a.stringify(e)})}function d(e){return Object(o["a"])({url:"/admin/role/add",method:"post",data:i.a.stringify(e)})}function l(e){return Object(o["a"])({url:"/admin/role/".concat(e),method:"delete"})}function f(e){return Object(o["a"])({url:"/admin/role/".concat(e,"/own/operator")})}function h(e,t){return Object(o["a"])({url:"/admin/role/".concat(e,"/grant/operator"),method:"post",data:i.a.stringify({operatorIds:t})})}function p(e){return Object(o["a"])({url:"/admin/role/swap",method:"post",data:i.a.stringify(e)})}}}]);