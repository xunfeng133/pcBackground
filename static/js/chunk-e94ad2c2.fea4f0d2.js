(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e94ad2c2"],{"0670":function(e,t,a){"use strict";var l=a("1381"),i=a.n(l);i.a},"12ad":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.isVisible,title:e.title,"close-on-click-modal":!1,"close-on-press-escape":!1,"modal-append-to-body":!1},on:{"update:visible":function(t){e.isVisible=t},close:e.closeDialog}},[a("div",{staticClass:"form"},[a("el-form",{ref:"form",staticStyle:{margin:"10px",width:"auto"},attrs:{model:e.form,rules:e.form_rules,"label-width":e.dialog.formLabelWidth}},[a("el-form-item",{attrs:{prop:"clientSale",label:"姓名:"}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.clientSale,callback:function(t){e.$set(e.form,"clientSale",t)},expression:"form.clientSale"}})],1),a("el-form-item",{attrs:{prop:"idcard",label:"身份证:"}},[a("el-input",{attrs:{maxlength:"18",type:"text"},model:{value:e.form.idcard,callback:function(t){e.$set(e.form,"idcard",t)},expression:"form.idcard"}})],1),a("el-form-item",{attrs:{prop:"gender",label:"性别:"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[e._v("男")]),a("el-radio",{attrs:{label:"2"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[e._v("女")])],1),a("el-form-item",{attrs:{prop:"mobileNo",label:"手机号:"}},[a("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",maxlength:"11",type:"text"},model:{value:e.form.mobileNo,callback:function(t){e.$set(e.form,"mobileNo",t)},expression:"form.mobileNo"}})],1),a("el-form-item",{attrs:{prop:"address",label:"现住地址:"}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),a("el-form-item",{attrs:{prop:"level",label:"客户等级:"}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}})],1),a("el-form-item",{attrs:{prop:"job",label:"职业:"}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.job,callback:function(t){e.$set(e.form,"job",t)},expression:"form.job"}})],1),a("el-form-item",{attrs:{prop:"saledPeriod",label:"销售周期（天）:"}},[a("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",type:"text"},model:{value:e.form.saledPeriod,callback:function(t){e.$set(e.form,"saledPeriod",t)},expression:"form.saledPeriod"}})],1),a("el-form-item",{attrs:{prop:"saleAgent",label:"销售中介:"}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.saleAgent,callback:function(t){e.$set(e.form,"saleAgent",t)},expression:"form.saleAgent"}})],1),a("el-form-item",{attrs:{prop:"loanedSummary",label:"贷款金额（万）:"}},[a("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",type:"text"},model:{value:e.form.loanedSummary,callback:function(t){e.$set(e.form,"loanedSummary",t)},expression:"form.loanedSummary"}})],1),a("el-form-item",{attrs:{prop:"aimPrice",label:"意向价格（万）:"}},[a("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",type:"text"},model:{value:e.form.aimPrice,callback:function(t){e.$set(e.form,"aimPrice",t)},expression:"form.aimPrice"}})],1),a("el-form-item",{attrs:{prop:"creditStatus",label:"征信状况:"}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.creditStatus,callback:function(t){e.$set(e.form,"creditStatus",t)},expression:"form.creditStatus"}})],1),a("el-form-item",{attrs:{prop:"remark",label:"备注:"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",{staticClass:"text_right"},[a("el-button",{on:{click:function(t){e.isVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提  交")])],1)],1)],1)])},i=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),r=a("5880"),n=a("b39f"),s=a("27b8");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach(function(t){Object(o["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var u={name:"addFundDialogs",data:function(){var e=function(e,t,a){if(""===t){var l;"income"==e.field?l="收入":"pay"==e.field?l="支出":"accoutCash"==e.field&&(l="账户现金"),a(new Error(l+"不能为空~"))}else{var i=/^[0-9]+.?[0-9]*$/;i.test(t)?a():a(new Error("请输入正数值"))}};return{areaData:[],isVisible:this.isShow,baseUrl:"http://8.130.26.25:7005",form:{propertyid:"",clientSale:"",idcard:"",gender:"1",mobileNo:"",address:"",level:"",job:"",creditStatus:"",remark:"",saledPeriod:"",saleAgent:"",loanedSummary:"",aimPrice:""},trafficType:[{label:"地铁",value:1},{label:"公交车",value:2},{label:"高铁路",value:3}],roomTypeOptions:[{label:"住宅",value:1},{label:"公寓",value:2},{label:"别墅",value:3}],form_rules:{username:[{required:!0,message:"用户名不能为空！",trigger:"blur"}],income:[{required:!0,validator:e,trigger:"blur"}],pay:[{required:!0,validator:e,trigger:"blur"}],accoutCash:[{required:!0,validator:e,trigger:"blur"}],incomePayType:[{required:!0,message:"请选择收支类型",trigger:"change"}],address:[{required:!0,message:"请选择籍贯",trigger:"change"}]},dialog:{width:"400px",formLabelWidth:"120px"},dialogImageUrl:"",dialogVisible:!1,fileList:[],originalFiles:[],previewUrl:""}},props:{isShow:Boolean,dialogRow:Object,title:{type:String,default:"添加房源"}},computed:c({},Object(r["mapGetters"])(["addFundDialog"])),created:function(){this.areaData=s},mounted:function(){},methods:{closeDialog:function(){this.$emit("closeDialog")},onSubmit:function(e){var t=this;console.log(this.form),this.$refs[e].validate(function(a){if(a){var l=t[e],i=Object.assign({},l);console.log(i),Object(n["a"])(i).then(function(e){t.$message({message:"添加成功",type:"success"}),t.$refs["form"].resetFields(),t.isVisible=!1,t.$emit("getFundList")})}})},showAddDialog:function(){this.addHouseDialog.show=!0}}},p=u,m=(a("0670"),a("2877")),g=Object(m["a"])(p,l,i,!1,null,"d7325074",null);t["default"]=g.exports},1381:function(e,t,a){},"18dd":function(e,t,a){"use strict";var l=a("3d2d"),i=a.n(l);i.a},"3d2d":function(e,t,a){},ce9a:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fillcontain"},[a("div",{staticClass:"contain"},[a("div",{staticClass:"table_container"},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"320px"},attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClients(t)}},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}},[a("el-select",{staticStyle:{width:"110px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.searchOptions,function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})}),1),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchClients},slot:"append"})],1),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:e.showAddClientDialog}},[e._v("添加业主")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:"","highlight-current-row":"","header-cell-class-name":"table-header-class"}},[a("el-table-column",{attrs:{label:"序号",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.$index+(e.paginations.pageIndex-1)*e.paginations.pageSize+1)+" ")])]}}])}),a("el-table-column",{attrs:{property:"owner",label:"业主编号",width:"180",align:"center"}}),a("el-table-column",{attrs:{property:"clientSale",label:"业主姓名",width:"120",align:"center"}}),a("el-table-column",{attrs:{property:"idcard",label:"身份证",width:"160",align:"center"}}),a("el-table-column",{attrs:{label:"性别",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(1==t.row.gender?"男":"女"))])]}}])}),a("el-table-column",{attrs:{property:"mobileNo",label:"手机号码",width:"120",align:"center"}}),a("el-table-column",{attrs:{property:"address",label:"现住地址",width:"180",align:"center"}}),a("el-table-column",{attrs:{property:"level",label:"客户等级",width:"100",align:"center"}}),a("el-table-column",{attrs:{property:"aimPrice",label:"意向价格/万",width:"100",align:"center"}}),a("el-table-column",{attrs:{property:"saledPeriod",label:"销售周期/月",width:"100",align:"center"}}),a("el-table-column",{attrs:{property:"saleAgent",label:"销售中介",width:"80",align:"center"}}),a("el-table-column",{attrs:{property:"loanedSummary",label:"贷款金额",width:"100",align:"center"}}),a("el-table-column",{attrs:{property:"creditStatus",label:"征信状况",width:"100",align:"center"}}),a("el-table-column",{attrs:{property:"createtime",label:"录单日期",width:"150",align:"center"}}),a("el-table-column",{attrs:{prop:"operation",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",icon:"edit",size:"mini"},on:{click:function(a){return e.onEditClient(t.row)}}},[e._v("编辑")])]}}])})],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"pagination"},[e.paginations.total>0?a("el-pagination",{attrs:{"page-sizes":e.paginations.pageSizes,"page-size":e.paginations.pageSize,layout:e.paginations.layout,total:e.paginations.total,"current-page":e.paginations.pageIndex},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)])],1)],1)]),e.addFundDialog.show?a("edit-client-dialog",{attrs:{title:"修改业主信息",isShow:e.addFundDialog.show,dialogRow:e.addFundDialog.dialogRow},on:{getHouseList:e.getSales,closeDialog:e.hideAddFundDialog}}):e._e(),e.addClientDialog.show?a("add-client-dialog",{attrs:{title:"添加业主",isShow:e.addClientDialog.show,dialogRow:e.addClientDialog.dialogRow},on:{getFundList:e.getSales,closeDialog:e.hideAddClientDialog}}):e._e()],1)},i=[],o=a("a27e");function r(e){return Object(o["a"])({url:"/client/sales/getlist",method:"get",params:e})}var n=a("12ad"),s=a("1865"),d={components:{AddClientDialog:n["default"],EditClientDialog:s["default"]},data:function(){return{tableData:[],loading:!0,paginations:{total:0,pageIndex:1,pageSize:20,pageSizes:[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper"},addFundDialog:{show:!1,dialogRow:{}},addClientDialog:{show:!1,dialogRow:{}},searchType:1,searchOptions:[{value:1,label:"按姓名搜索"},{value:2,label:"按身份证搜索"}],key:"",clientSale:"",idCard:""}},created:function(){},mounted:function(){this.getSales()},methods:{getSales:function(){var e=this,t={rowsPerPage:this.paginations.pageSize,currentPage:this.paginations.pageIndex};""!==this.clientSale.trim()&&(t.clientSale=this.clientSale),""!==this.idCard.trim()&&(t.idCard=this.idCard),r(t).then(function(t){e.loading=!1,e.paginations.total=t.data.totalRows,e.tableData=t.data.data}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.paginations.pageSize=e,this.getSales()},handleCurrentChange:function(e){this.paginations.pageIndex=e,this.getSales()},onEditClient:function(e){this.addFundDialog.show=!0,this.addFundDialog.dialogRow=e},onDeleteHouse:function(e){},hideAddFundDialog:function(){this.addFundDialog.show=!1},hideAddClientDialog:function(){this.addClientDialog.show=!1},showAddClientDialog:function(){this.addClientDialog.show=!0},searchClients:function(){1===this.searchType?this.clientSale=this.key:this.idCard=this.key,this.getSales()}}},c=d,u=(a("18dd"),a("2877")),p=Object(u["a"])(c,l,i,!1,null,"103ab90e",null);t["default"]=p.exports}}]);